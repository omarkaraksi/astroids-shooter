<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
    body{
       
        margin: auto;
        overflow: hidden;
       
    }
    #asteroid{
      /*border: 1px solid red;*/
    }
    #shooter{
    background: url('target_icon.png');
    position: absolute;
    z-index: 600000000;
   /*  border: 1px solid red;*/
    height: 254px;
    width: 257px;
  
    }
    #container{
       /* cursor: url('target_icon_32.png') pointer;*/
        position: absolute;
        min-height: 100%;
        width: 100%;
       margin: auto;

        display: block;
         background: url("sky.png");
        -webkit-background-size: cover;
         -moz-background-size: cover;
         -o-background-size: cover;
         background-size: cover;
         
         margin-top: 0 !important;
        

    }
    .pre{
       background: none repeat scroll 0 0 rgba(1, 1, 1, 0.7);
    display: block;
    height: 100%;
    position: absolute;
    width: 100%;
    z-index: 2147483647;

    }
    
.pre h1 {
  color: red;
    left: 37%;
    margin: auto;
    position: absolute;
    text-align: center;
    top: 12%;
    z-index: 909848921111111;
}
    .pre > button{
    font-size: 20pt;
    font-family: monospace ; 
    display: block;
    height: 81px;
    left: 42%;
    position: absolute;
    top: 40%;
    width: 295px;
    z-index: 2147483647;
    }
     #earth{
       
        bottom: 0;
        position: absolute;
        background: url('ground2.png');
         -webkit-background-size: cover;
         -moz-background-size: cover;
         -o-background-size: cover;
         background-size: cover;
         
        z-index: 21111111111111;
      
       
        width: 100%;
        display: block;
        height: 222px;
    } 
    .asteroid{  
    /*     border: 1px solid red;*/
        margin-right: 40px;
         position: relative;
         float :left;
        margin: auto 10px auto auto;
        /*background: url('asteroid.png');*/
       
        z-index: 11111111;
    }
    .explode{  
       /*border: 1px solid red;*/
        margin-right: 40px;
         position: relative;
         float :left;
       width:100px;
       height: 100px;
        background-size: cover;
        background: url('explode.png') ;
       
        z-index: 1111119999232222222;
    }
    .big{/*-webkit-background-size: 40px 40px;
         -moz-background-size: 40px 40px;
         -o-background-size: 40px 40px;*/
        
         background-size: 90px 90px;
        width: 90px;
        height: 90px;
         background: url('enemy2.png');
    }

     .medium{/*-webkit-background-size: 40px 40px;
         -moz-background-size: 40px 40px;
         -o-background-size: 40px 40px;*/
        background: url('enemy1.png');
        background-size: 60px 60px;
        width: 60px;
        height: 60px;
    }

      .small{/*-webkit-background-size: 40px 40px;
         -moz-background-size: 40px 40px;
         -o-background-size: 40px 40px;*/
         background: url('asteroid.png');
         background-size: 35px 35px;
        width: 35px;
        height: 35px;
    }
    #timer{
       font-family: cursive;
    font-size: 44pt;
    left: 43%;
    margin: auto;
    position: relative;
    top: 63%;
    }
    </style>

<script type="text/javascript" src="js/jquery.min.js" ></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.9.8/TweenMax.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.9.8/jquery.gsap.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.9.8/TimelineMax.min.js"></script>

</head>
<body>
  <div class="pre">  
      <button id="start" value="Start!!!" > Start!!!</button>
      <h1> ((( ANTI MILITARY COUP ))) <br>
         Save The Earth !! <br>
      They Are Many ... But You CAN !! </h1>
  </div>
    <div id="container">

               <div id="shooter"> </div>
               <div  class="small asteroid"></div>
               <div  class="big asteroid"></div>
               <div   class="medium asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="big asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="big asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="small asteroid"></div> 
               <div  class="medium asteroid"></div>
               <div  class="medium asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="big asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="small asteroid"></div> 
               <div  class="medium asteroid"></div>
               <div  class="medium asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="big asteroid"></div>
               <div  class="big asteroid"></div>
               <div   class="medium asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="big asteroid"></div>
               
                <div   class="medium asteroid"></div>

          <div id="earth" >
            <div  id="timer" >0 Days</div>
          </div>     
    </div>            
</body>
<script type="text/javascript">

function checkShooted(size,x,y )
{ 
  
    if(size=="small"){ 
         if( (x < 0.56 && x >0.45) && (y < 0.85 && y >0.38))
                     {
                      return true ;
                       
                    }else{
                        return false
                    }
     }
    if(size=="big"){ 
         if( (x < 0.71 && x >0.28) && (y < 0.70 && y >0.18))
                     {
                      return true ;
                       
                    }else{
                        return false
                    }
     }
    if(size=="medium"){ 
           if( (x < 0.58 && x >0.42) && (y < 0.80 && y >0.39))
                    {
                      console.log(x,y,'done');
                     // console.log();
                      return true ;
                       
                    }else{
                        return false
                    }
     }
    
            
}

var seconds = 0 ;
 
$(document).ready(function(){ 
var tl = new TimelineMax({globalTimeScale :6.6 });
 $("#start").click(function(){
    setInterval(function(){ 
  seconds++ ;
   $('#timer').html(seconds +" Days ")},6300);
 tl.restart()
      init();
      $('.pre').hide()

   

 }) 

 
       $(document).mousemove(function(e){
                                            mouseX =e.pageX-160
                                            mouseY =e.pageY-122
                                           $('#shooter').css({'top':mouseY,'left':mouseX})
                                      
                                         //  console.log(mouseX,mouseY);
                                     
                                        
                                      }) 
    $('#shooter').click(function(){ 
     var pos = [] 
      shpos = $(this).position();
                     shx= shpos.left 
                     shy=shpos.top 
      var shH = $(this).height();
      var shW = $(this).width();

      if($('.asteroid').length==0){
       $('.pre').show();
       $('h1').html("Hero You Made It In "+$('#timer').html()+" !!" )
       //$('#timer').hide()
       
    } 
     $('.asteroid').each(function(index){ 


                   
                   
                   $(this).attr('id' ,'ast_'+  parseInt(index+1))
                   pos.push([$(this).attr('id'), 
                    $(this).position() ,
                    $(this).width(),
                    $(this).height(),
                    $(this).attr('class').split(' ')[0],
                    $(this).attr('class').split(' ')[1]
                       ]
                    ); 
                    

                })

     $.each(pos,function(i,v){
        var asteroid ;


          //console.log( v[2]/2 );
          //console.log( v[1].left/2 +v[2]/2);
         // console.log( parseFloat((v[1].left-shx) / ((shW)-(v[2]))).toFixed(2));
        //  console.log( parseFloat((v[1].top-shy) / ((shH)-(v[3]))).toFixed(2));

          var overlapX = parseFloat((v[1].left-shx) / ((shW)-(v[2]))).toFixed(2)
          var overlapY = parseFloat((v[1].top-shy) / ((shH)-(v[3]))).toFixed(2)

          console.log(v[4]);
          console.log(v[5]+"sss");
      if(checkShooted(v[4],overlapX,overlapY)) {
        //alert($("#"+v[0]).attr('id'))
        // alert(v[4])
        // alert(v[5])
            if($('.asteroid').length==0){
           $('.pre').show();
           $('h1').html("Hero You Made It In "+$('#timer').html()+" !!" )
       //$('#timer').hide()
       
             } 
           
           $("#"+v[0]).removeClass('asteroid').removeClass('big').removeClass('small').removeClass('medium')
           $("#"+v[0]).addClass("explode")
            setTimeout(function(){
              $("#"+v[0]).css('width', 240);
              $("#"+v[0]).css('height' ,240);
              
                $("#"+v[0]).remove()  } ,730) 

            

      }

          // switch(){
          //      case  'medium' :
          //           if(overlapX < 0.57 && overlapX >0.42 && (overlapX < 0.57 && overlapX >0.42)
          //           {
          //              // alert('Shooted')
          //           }

          //     //   break ;
          //      case : 'big'    

          //        if(overlapX < 0.57 && overlapX >0.42)
          //           {
          //               //alert('Shooted')
          //           }
          //      // break ; 
          // }

          // if((overlapX > ) && (overlapY))
          
          //console.log( shx/2 )
          //console.log( shy )

     })
                    
        
             //  console.log(pos); 



           //  console.log(x-shx);

      //$('this').on('click',function(){
            


             //console.log(x-shx);

            //     })
            
                       })


function randSpeed(start , end){
  //console.log( Math.floor((Math.random()*end )+start));
  return  Math.floor((Math.random()*end )+start);

}


var speed = [];
var finalSpeed  =7;
var inc = 0;
 function  repeatCallBack()
  {     

       finalSpeed =speed[inc++]    
      // console.log(finalSpeed); 
  }

  function repeater(){
    for(i=0;i<6;i++)speed.push( randSpeed(7,9) )
  }
  function init(){

   repeater() 
// $('.asteroid').each(function(){

  


   // $('.astroid').css({'top':'0px'}) 
 

 // tl.restart()var speed ;  
//console.log(tl);
 


tl.insert(  TweenMax.to(".big", finalSpeed, { top:"700px", ease:Power2.easeInOut ,repeat : 100 
,onRepeat : repeatCallBack
}))
 
tl.insert(  TweenMax.to(".small", finalSpeed+2, {  top:"600px", ease:Power2.easeInOut ,repeat : 20,onRepeat : repeatCallBack
}))    
tl.insert(  TweenMax.to(".medium", finalSpeed+1, {  top:"680px", ease:Power2.easeInOut,repeat : 40,onRepeat : repeatCallBack
}))    
//tl.add(TweenMax.to(".big", 4, {  top:"470px", ease:Power2.easeOutIn ,repeat : 100}))    
//tl.onUpdate(function(){console.log('ss')})
 $(document).mousemove(function(e){
                                            mouseX =parseInt(e.pageX-160)+"px"; 
                                            mouseY =parseInt(e.pageY-122)+"px"; 
                                           //  $('#shooter').css({'top':mouseY-122,'left':mouseX-160})
                                      
                                          // console.log(mouseX,mouseY);
                                      
                                       tl.insert(  TweenMax.to(
                                            "#shooter",
                                             0.002, 
                                             {  top:mouseY ,left:mouseX ,ease:Power4.easeInOut}))
                                            
                                      })

 // console.log(tl);
 //  tl.clear()
 // // console.log(TweenMax); 

  tl.play()    

}
init() ;
 
       
$('.asteroid').each(function(index, value){
      
})
        
})

                                   
</script>
</html>