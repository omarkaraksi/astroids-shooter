<!DOCTYPE html>
<html>
<head>
    <style type="text/css">
    body{
       
        margin: auto;
        
       
    }
    #asteroid{
      /*border: 1px solid red;*/
    }
    #shooter{
    background: url('target_icon.png');
    position: absolute;
    z-index: 600000000;
   /*  border: 1px solid red;*/
    height: 254px;
    width: 257px;
  
    }
    #container{
       /* cursor: url('target_icon_32.png') pointer;*/
        position: absolute;
        min-height: 700px;
        width: 100%;
       
        display: block;
         background: url("sky.png");
        -webkit-background-size: cover;
         -moz-background-size: cover;
         -o-background-size: cover;
         background-size: cover;
         
         margin-top: 0 !important;
        

    } #earth{
        top: 0;
        bottom: 0px;
        position: relative;
        background: url('ground.png');

        z-index: 21;
        border: 1px red solid;
       
        width: 100%;
        display: block;
        height: 768px;
    } 
    .asteroid{  
    /*     border: 1px solid red;*/
        margin-right: 40px;
         position: relative;
         float :left;
       
        background: url('asteroid.png');
       
        z-index: 11111111;
    }
    .explode{  
    /*     border: 1px solid red;*/
        margin-right: 40px;
         position: relative;
         float :left;
       
        background: url('explode.gif');
       
        z-index: 11111111;
    }
    .big{/*-webkit-background-size: 40px 40px;
         -moz-background-size: 40px 40px;
         -o-background-size: 40px 40px;*/
         margin-top:10px;
         background-size: 90px 90px;
        width: 90px;
        height: 90px;
    }

     .medium{/*-webkit-background-size: 40px 40px;
         -moz-background-size: 40px 40px;
         -o-background-size: 40px 40px;*/
        margin-top:14px;
        background-size: 40px 40px;
        width: 40px;
        height: 40px;
    }

      .small{/*-webkit-background-size: 40px 40px;
         -moz-background-size: 40px 40px;
         -o-background-size: 40px 40px;*/
         margin-top:12px;
         background-size: 25px 25px;
        width: 25px;
        height: 25px;
    }
    </style>

<script type="text/javascript" src="js/jquery.min.js" ></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.9.8/TweenMax.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.9.8/jquery.gsap.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.9.8/TimelineMax.min.js"></script>

</head>
<body>
  
    <div id="container">
               <div id="shooter"> </div>
               <div  class="big asteroid"></div>
               <div   class="medium asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="big asteroid"></div>
               <div  class="small asteroid"></div>
                <div  class="big asteroid"></div>
               <div  class="small asteroid"></div>
             
               <div  class="medium asteroid"></div>
               <div  class="medium asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="big asteroid"></div>
               <div  class="big asteroid"></div>
               <div   class="medium asteroid"></div>
               <div  class="small asteroid"></div>
               <div  class="big asteroid"></div>
               
                <div   class="medium asteroid"></div>

          <div id="earth" ></div>     
    </div>            
</body>
<script type="text/javascript">

function checkShooted(size,x,y )
{ 

    if(size=="small"){ 
         if( (x < 0.53 && x >0.45) && (y < 0.39 && y >0.43))
                     {
                      return true ;
                       
                    }else{
                        return false
                    }
     }
    if(size=="big"){ 
         if( (x < 0.71 && x >0.28) && (y < 0.70 && y >0.18))
                     {
                      return true ;
                       
                    }else{
                        return false
                    }
     }
    if(size=="medium"){ 
           if( (x < 0.58 && x >0.42) && (y < 0.50 && y >0.39))
                    {
                      return true ;
                       
                    }else{
                        return false
                    }
     }
    
            
}

$(document).ready(function(){ 
       $(document).mousemove(function(e){
                                            mouseX =e.pageX-160
                                            mouseY =e.pageY-122
                                        //   $('#shooter').css({'top':mouseY,'left':mouseX})
                                      
                                         //  console.log(mouseX,mouseY);
                                     
                                        
                                      }) 
    $('#shooter').click(function(){ 
     var pos = [] 
      shpos = $(this).position();
                     shx= shpos.left 
                     shy=shpos.top 
      var shH = $(this).height();
      var shW = $(this).width(); 
     $('.asteroid').each(function(index){ 


                   
                   
                   $(this).attr('id' ,'ast_'+  parseInt(index+1))
                   pos.push([$(this).attr('id'), 
                    $(this).position() ,
                    $(this).width(),
                    $(this).height(),
                    $(this).attr('class').split(' ')[0]   ]
                    ); 
                    

                })

     $.each(pos,function(i,v){
        var asteroid ;


          //console.log( v[2]/2 );
          //console.log( v[1].left/2 +v[2]/2);
          console.log( parseFloat((v[1].left-shx) / ((shW)-(v[2]))).toFixed(2));
          console.log( parseFloat((v[1].top-shy) / ((shH)-(v[3]))).toFixed(2));

          var overlapX = parseFloat((v[1].left-shx) / ((shW)-(v[2]))).toFixed(2)
          var overlapY = parseFloat((v[1].top-shy) / ((shH)-(v[3]))).toFixed(2)

          console.log(v[4]);

      if(checkShooted(v[4],overlapX,overlapY)) {
        //alert($("#"+v[0]).attr('id'))
           $("#"+v[0]).removeClass("asteroid").addClass("explode");; 
            setTimeout(function(){
                $("#"+v[0]).remove()  } ,470) 

            

      }

          // switch(){
          //      case  'medium' :
          //           if(overlapX < 0.57 && overlapX >0.42 && (overlapX < 0.57 && overlapX >0.42)
          //           {
          //              // alert('Shooted')
          //           }

          //     //   break ;
          //      case : 'big'    

          //        if(overlapX < 0.57 && overlapX >0.42)
          //           {
          //               //alert('Shooted')
          //           }
          //      // break ; 
          // }

          // if((overlapX > ) && (overlapY))
          
          //console.log( shx/2 )
          //console.log( shy )

     })
                    
        
               console.log(pos); 



           //  console.log(x-shx);

      //$('this').on('click',function(){
            


             //console.log(x-shx);

            //     })
            
                       })
  function init(){
// $('.asteroid').each(function(){

  


var tl = new TimelineMax({globalTimeScale :3.5 });
//console.log(tl);
tl.insert(TweenMax.to(".big", 10, {  top:"470px", ease:Power2.easeInOut ,repeat : 100 }))
tl.insert(  TweenMax.to(".small", 12, {  top:"470px", ease:Power2.easeInOut ,repeat : 20}))    
tl.insert(  TweenMax.to(".medium", 11, {  top:"470px", ease:Power2.easeInOut,repeat : 40}))    
tl.insert(TweenMax.to(".big", 4, {  top:"470px", ease:Power2.easeOutIn ,repeat : 100}))    
//tl.onUpdate(function(){console.log('ss')})
 $(document).mousemove(function(e){
                                            mouseX =parseInt(e.pageX-160)+"px"; 
                                            mouseY =parseInt(e.pageY-122)+"px"; 
                                           //  $('#shooter').css({'top':mouseY-122,'left':mouseX-160})
                                      
                                           console.log(mouseX,mouseY);
                                      tl.insert(
                                        TweenMax.to(
                                            "#shooter",
                                             0.2, 
                                             {  top:mouseY ,left:mouseX ,ease:Power4.easeInOut}))
                                            
                                      })

  tl.play()    
tl.addCallback(function(){ console.log('sssssss'); }, .1);
    
      
     // TweenMax.to(".small", 4, {  top:"470px", ease:Power4.easeOutIn ,repeat : 20});
     // TweenMax.to(".medium", 6, {  top:"470px", ease:Power4.easeOutIn,repeat : 40});
    // console.log(TweenMax.getAllTweens())
}
init() ;
 
       
$('.asteroid').each(function(index, value){
      
})
        
})

                                   
</script>
</html>